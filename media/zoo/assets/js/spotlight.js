/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

!function(o){function n(){}o.extend(n.prototype,{name:"spotlight",options:{effect:"fade",duration:300,transition:"swing",cls:"spotlight",overlaySelector:".overlay",overlayDefault:"overlay-default"},initialize:function(t,e){e=o.extend({},this.options,e,t.data()),t.attr("data-spotlight")&&o.each(t.attr("data-spotlight").split(";"),function(t,i){var a=i.match(/\s*([A-Z_]*?)\s*:\s*(.+)\s*/i);a&&(e[a[1]]=a[2])});var i=t.children(e.overlaySelector).first();i.length||(i=o("<div>").addClass(e.overlayDefault).appendTo(t)),i.css({position:"absolute",visibility:"hidden",display:"block"}).wrapInner("<div>"),t.css({position:"relative",overflow:"hidden"}).addClass(e.cls),t.bind({mouseenter:function(){switch(i.stop().css({visibility:"visible",width:t.width(),height:"top"==e.effect||"bottom"==e.effect?"auto":t.height()}),e.effect){case"right":i.css({right:-1*i.width(),top:0,bottom:0}).animate({right:0},e.duration,e.transition);break;case"left":i.css({left:-1*i.width(),top:0,bottom:0}).animate({left:0},e.duration,e.transition);break;case"top":i.css({left:0,top:-1*i.height()}).animate({top:0},e.duration,e.transition);break;case"bottom":i.css({left:0,bottom:-1*i.height()}).animate({bottom:0},e.duration,e.transition);break;case"fade":default:i.show().css({opacity:0,top:0,left:0}).animate({opacity:1},e.duration,e.transition,function(){o.support.opacity||(i.get(0).filter="",i.attr("style",String(i.attr("style")).replace(/alpha\(opacity=([\d.]+)\)/i,"")))})}},mouseleave:function(){switch(i.stop(),e.effect){case"right":i.animate({right:-1*i.width()},e.duration,e.transition);break;case"left":i.animate({left:-1*i.width()},e.duration,e.transition);break;case"top":i.animate({top:-1*i.height()},e.duration,e.transition);break;case"bottom":i.animate({bottom:-1*i.height()},e.duration,e.transition);break;case"fade":default:i.animate({opacity:0},e.duration,e.transition,function(){i.hide()})}}})}}),o.fn[n.prototype.name]=function(){var a=arguments,e=a[0]?a[0]:null;return this.each(function(){var t,i=o(this);n.prototype[e]&&i.data(n.prototype.name)&&"initialize"!=e?i.data(n.prototype.name)[e].apply(i.data(n.prototype.name),Array.prototype.slice.call(a,1)):!e||o.isPlainObject(e)?(t=new n,n.prototype.initialize&&t.initialize.apply(t,o.merge([i],a)),i.data(n.prototype.name,t)):o.error("Method "+e+" does not exist on jQuery."+n.name)})}}(jQuery);