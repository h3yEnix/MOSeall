/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

!function(n){function o(){}o.prototype=n.extend(o.prototype,{name:"BrowseItems",initialize:function(t){this.timer=null,this.delay=1500,t.find("td.priority").each(function(){var e=n(this).find("input.value:first");e.bind("change",function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){var i={},e=t.find("table.list:first");n.each(t.serializeArray(),function(t,e){i[e.name]=e.value}),e.addClass("loader"),n.ajax({url:t.attr("action"),type:"post",datatype:"json",data:n.extend(i,{task:"savepriority",format:"raw"}),success:function(t){e.removeClass("loader"),n.Message(t,!0)}})},this.delay)}),n(this).find("span.plus:first, span.minus:first").bind("click",function(){var t=n(this).is(".plus")?1:-1;e.val(e.val().toInt()+t).trigger("change")})})}}),n.fn[o.prototype.name]=function(){var i=arguments,a=i[0]?i[0]:null;return this.each(function(){var t,e=n(this);o.prototype[a]&&e.data(o.prototype.name)&&"initialize"!=a?e.data(o.prototype.name)[a].apply(e.data(o.prototype.name),Array.prototype.slice.call(i,1)):!a||n.isPlainObject(a)?(t=new o,o.prototype.initialize&&t.initialize.apply(t,n.merge([e],i)),e.data(o.prototype.name,t)):n.error("Method "+a+" does not exist on jQuery."+o.name)})}}(jQuery),function(o){function n(){}n.prototype=o.extend(n.prototype,{name:"EditItem",initialize:function(i){o.each(["apply","save","sav-new"],function(t,e){o("#toolbar-"+e+" a, #toolbar-"+e+" button").bind("validate.adminForm",function(t){""==i.find('input[name="name"]').val()&&(i.find("span.message-name").css("display","block"),t.preventDefault())})});var a=o("#categories"),n=o("#paramsprimary_category");a.bind("change",function(){var t=o(this).val()?o(this).val():[],e=n.val();-1==o.inArray(e,t)&&n.val(t.length?t.shift():""),n.trigger("liszt:updated")}),n.bind("change",function(){var t=a.val()?a.val():[],e=o(this).val();-1==o.inArray(e,t)&&(t.push(e),a.val(t),a.trigger("liszt:updated"))}),i.find("div.element").each(function(){o(this).delegate("div.more-options div.trigger div.button","click",function(){var t=o(this).closest("div.more-options"),e="show-"+o(this).attr("class").split(" ").shift();t.hasClass(e)?t.attr("class","more-options"):t.attr("class","more-options "+e)}).find("div.row > input:text").placeholder()})}}),o.fn[n.prototype.name]=function(){var i=arguments,a=i[0]?i[0]:null;return this.each(function(){var t,e=o(this);n.prototype[a]&&e.data(n.prototype.name)&&"initialize"!=a?e.data(n.prototype.name)[a].apply(e.data(n.prototype.name),Array.prototype.slice.call(i,1)):!a||o.isPlainObject(a)?(t=new n,n.prototype.initialize&&t.initialize.apply(t,o.merge([e],i)),e.data(n.prototype.name,t)):o.error("Method "+a+" does not exist on jQuery."+n.name)})}}(jQuery);