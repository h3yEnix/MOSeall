/* Copyright (C) YOOtheme GmbH, https://www.gnu.org/licenses/gpl.html GNU/GPL */

function selectRelateditem(t,e,i){jQuery("#"+i).ElementRelatedItems("addItem",t,e),jModalClose()}!function(a){function o(){}a.extend(o.prototype,{name:"ElementRelatedItems",options:{variable:null,msgDeleteItem:"Delete Item",msgSortItem:"Sort Item"},initialize:function(t,e){this.options=a.extend({},this.options,e),this.list=t.find("ul").delegate("span.item-delete","click",function(){a(this).closest("li").fadeOut(200,function(){a(this).remove()})}).sortable({handle:"span.item-sort",placeholder:"dragging",axis:"y",opacity:1,delay:100,tolerance:"pointer",containment:"parent",forcePlaceholderSize:!0,scroll:!1,start:function(t,e){e.helper.addClass("ghost")},stop:function(t,e){e.item.removeClass("ghost")}})},addItem:function(t,e){var i=!1;this.list.find("li input").each(function(){a(this).val()==t&&(i=!0)}),i||a('<li><div><div class="uk-display-inline-block uk-text-middle item-name">'+e+'</div><span class="item-sort" title="'+this.options.msgSortItem+'"><span class="uk-icon" uk-icon="icon: more-vertical"></span></span><span class="item-delete" title="'+this.options.msgDeleteItem+'"><span class="uk-icon" uk-icon="icon: trash"></span></span><input type="hidden" name="'+this.options.variable+'" value="'+t+'"/></div></li>').appendTo(this.list)}}),a.fn[o.prototype.name]=function(){var i=arguments,n=i[0]||null;return this.each(function(){var t,e=a(this);o.prototype[n]&&e.data(o.prototype.name)&&"initialize"!=n?e.data(o.prototype.name)[n].apply(e.data(o.prototype.name),Array.prototype.slice.call(i,1)):!n||a.isPlainObject(n)?(t=new o,o.prototype.initialize&&t.initialize.apply(t,a.merge([e],i)),e.data(o.prototype.name,t)):a.error("Method "+n+" does not exist on jQuery."+o.name)})}}(jQuery);