/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

!function(a){function d(){}a.extend(d.prototype,{name:"ElementRepeatableTextarea",initialize:function(t){var e=t.find("ul.repeatable-list");e.find("li.hidden").each(function(){a(this).find("*").each(function(){a(this).attr("name")&&(a(this).data("name",a(this).attr("name")),a(this).attr("name",""))})}),t.delegate("span.delete","click",function(){a(this).closest("li.repeatable-element").fadeOut(200,function(){a(this).addClass("hidden"),a(this).find("*").each(function(){a(this).attr("name")&&a(this).attr("name","")})})}),t.find("p.add a").bind("click",function(){var t=a(e.find("li.hidden").get(0)).removeClass("hidden");t.find("*").each(function(){a(this).data("name")&&a(this).attr("name",a(this).data("name"))}),t.find("div.repeatable-content").effect("highlight",{},1e3),0==e.find("li.hidden").length&&a(this).parent().hide()})}}),a.fn[d.prototype.name]=function(){var i=arguments,n=i[0]?i[0]:null;return this.each(function(){var t,e=a(this);d.prototype[n]&&e.data(d.prototype.name)&&"initialize"!=n?e.data(d.prototype.name)[n].apply(e.data(d.prototype.name),Array.prototype.slice.call(i,1)):!n||a.isPlainObject(n)?(t=new d,d.prototype.initialize&&t.initialize.apply(t,a.merge([e],i)),e.data(d.prototype.name,t)):a.error("Method "+n+" does not exist on jQuery."+d.name)})}}(jQuery);