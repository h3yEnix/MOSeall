/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

jQuery(function(a){var s=a('form[name="adminForm"]'),n=a('[name="boxchecked"]:hidden',s);a("#submenu li").addClass(function(){return"item"+(a(this).index()+1)}),a("select.auto-submit").bind("change",function(){s.submit()}),a("table.stripe tbody tr").addClass(function(t,i){return t%2?"even":"odd"}),s.delegate("input.check-all","click",function(t){var e=a(this).is(":checked"),i=a('[name="cid[]"]:checkbox',s).attr("checked",function(t,i){return e});n.val(i.filter(":checked").length)}),s.delegate('[name="cid[]"]:checkbox',"click",function(t){var i=parseInt(n.val());n.val(a(this).is(":checked")?i+1:i-1)}),s.delegate('table tr a[rel^="task-"]',"click",function(t){t.preventDefault();var i=a(this).closest("tr").find('input[name="cid[]"]').val();a('input[name="task"]',s).val(a(this).attr("rel").replace(/task-/,"")),s.append('<input type="hidden" name="cid" value="'+i+'" />'),s.submit()}),a("#parameter-accordion").accordionMenu({mode:"slide",display:0}),a.each(["apply","save","save-new"],function(t,i){var e,n=a("#toolbar-"+i+" a, #toolbar-"+i+" button");n.length&&(e=n.attr("onclick").toString().replace(/\n*/gi,"").replace(/.*submitbutton\(['|"](.*)['|"]\).*/g,"$1"),n.removeAttr("onclick").bind("click",function(t){var i=a.Event("validate.adminForm");a(this).trigger(i),i.isDefaultPrevented()||(s.find(".placeholder:text").val(""),submitbutton(e))}))}),a("#nav li.level1 a").each(function(){a(this).attr("title",a.trim(a(this).text()))}),a("#nav [data-zooversion].active").length&&a('<span class="version" />').text("ZOO "+a("#nav [data-zooversion].active").data("zooversion")).appendTo("#nav div.bar"),a("#nav").MenuResize(),a.Message=function(t,i){var e=a.parseJSON(t);if(e){if("info"==e.group)return void 0;if("error"==e.group)return void alert(e.title+"-"+e.text)}window.location="index.php"}}),function(d){function a(){}d.extend(a.prototype,{name:"MenuResize",initialize:function(t,i){this.options=d.extend({},this.options,i);var e=this;this.nav=t,this.spans=t.find("li.level1 > .level1 > span"),this.widths=[],this.padding_lefts=[],this.padding_rights=[],this.spans.each(function(t){e.widths[t]=parseInt(d(this).css("width").replace("px","")),e.padding_lefts[t]=parseInt(d(this).css("padding-left").replace("px","")),e.padding_rights[t]=parseInt(d(this).css("padding-right").replace("px",""))}),this.width=0,t.find("li.level1").each(function(){e.width+=d(this).outerWidth(!0)}),this.initial_width=this.width,this.resizeTabs(),d(window).bind("resize",function(){e.resizeTabs()})},resizeTabs:function(){var i=this,t=this.nav.innerWidth(),e=[],n=[],a=[];for(this.spans.each(function(t){e[t]=i.widths[t],n[t]=i.padding_lefts[t],a[t]=i.padding_rights[t]}),this.width=this.initial_width;t<=this.width;){var s=0,r=!1;this.spans.each(function(t){0<n[t]&&(--i.width,--n[t],r=!0),0<a[t]&&(--i.width,--a[t],r=!0),e[t]>e[s]&&(s=t)}),!1===r&&(this.width-=10,e[s]-=10)}this.spans.each(function(t){d(this).css("width")!=e[t]+"px"&&d(this).css("width",e[t]+"px"),d(this).css("padding-left")!=n[t]+"px"&&d(this).css("padding-left",n[t]+"px"),d(this).css("padding-right")!=a[t]+"px"&&d(this).css("padding-right",a[t]+"px")})}}),d.fn[a.prototype.name]=function(){var e=arguments,n=e[0]?e[0]:null;return this.each(function(){var t,i=d(this);a.prototype[n]&&i.data(a.prototype.name)&&"initialize"!=n?i.data(a.prototype.name)[n].apply(i.data(a.prototype.name),Array.prototype.slice.call(e,1)):!n||d.isPlainObject(n)?(t=new a,a.prototype.initialize&&t.initialize.apply(t,d.merge([i],e)),i.data(a.prototype.name,t)):d.error("Method "+n+" does not exist on jQuery."+a.name)})}}(jQuery);