/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

function selectZooItem(e,t,i){jQuery("#"+i+"_id").val(e),jQuery("#"+i+"_name").val(t),jModalClose()}!function(s){function a(){}s.extend(a.prototype,{name:"ZooApplication",options:{url:null,msgSelectItem:"Select Item"},initialize:function(e,t){this.options=s.extend({},this.options,t);var i=this;this.input=e,this.app=e.find("select.application"),this.categories=e.find("div.categories"),this.types=e.find("div.types"),this.item=e.find("div.item");var n=e.find("select.mode");n.length?(this.mode=n.val(),n.bind("change",function(){i.mode=n.val(),i.setValues()})):this.categories.length?this.mode="categories":this.types.length?this.mode="types":this.item.length&&(this.mode="item"),this.setValues(),this.app.bind("change",function(){i.setValues(),i.item.length&&(i.item.find("input:hidden").val(""),i.item.find("input:text").val(i.options.msgSelectItem))}),e.delegate("select","change",function(){s(this).closest("div.content").css("height","")}),s(e.closest("form")).find("input[id$=mode]:hidden, input[id$=params_type]:hidden, input[id$=params_category]:hidden, input[id$=params_item_id]:hidden").each(function(){s(this).closest(".control-group").remove().end().remove()})},setValues:function(){var t=this.app.val();this.categories.length&&(t&&"categories"==this.mode?this.categories.removeClass("hidden"):this.categories.addClass("hidden"),this.input.find("select.category").each(function(){var e=s(this);e.hasClass("app-"+t)?e.removeClass("hidden").attr("name",e.data("category")).next(".chzn-container").removeClass("hidden"):e.addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")})),this.types.length&&(t&&"types"==this.mode?this.types.removeClass("hidden"):this.types.addClass("hidden"),this.input.find("select.type").each(function(){var e=s(this);e.hasClass("app-"+t)?e.removeClass("hidden").attr("name",e.data("type")).next(".chzn-container").removeClass("hidden"):e.addClass("hidden").attr("name","").next(".chzn-container").addClass("hidden")})),this.item.length&&(t&&"item"==this.mode?this.item.removeClass("hidden"):this.item.addClass("hidden"),this.item.find("a").attr("href",this.options.url+"&app_id="+t))}}),s.fn[a.prototype.name]=function(){var i=arguments,n=i[0]?i[0]:null;return this.each(function(){var e,t=s(this);a.prototype[n]&&t.data(a.prototype.name)&&"initialize"!=n?t.data(a.prototype.name)[n].apply(t.data(a.prototype.name),Array.prototype.slice.call(i,1)):!n||s.isPlainObject(n)?(e=new a,a.prototype.initialize&&e.initialize.apply(e,s.merge([t],i)),t.data(a.prototype.name,e)):s.error("Method "+n+" does not exist on jQuery."+a.name)})}}(jQuery);